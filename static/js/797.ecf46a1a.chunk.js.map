{"version":3,"file":"static/js/797.ecf46a1a.chunk.js","mappings":"sMAwDA,UAnDmB,WACjB,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAoCL,EAAAA,EAAAA,UAAS,IAA7C,eAAOM,EAAP,KAAmBC,EAAnB,KACMC,EAAQJ,EAAaK,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACHJ,IAGLK,EAAAA,EAAAA,IAAkBL,GAAOM,KAAKZ,EAC/B,GAAE,CAACM,IAcJ,OACE,iCACE,kBAAMO,SATW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACfd,EAAgB,CAAEG,MAAOU,EAAKE,SAASC,OAAOC,QAC9CJ,EAAKK,OACN,EAIG,WACE,kBAAOC,KAAK,OAAOF,MAAOhB,EAAYmB,KAAK,SAASC,SAfhC,SAACC,GACzB,IAAML,EAAQK,EAAMC,OAAON,MAC3Bf,EAAce,EACf,KAaK,mBAAQE,KAAK,SAASK,UAAWvB,EAAjC,uBAEiB,IAAlBL,EAAO6B,SACN,gCACG,KACD,wBACG7B,EAAO8B,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,GAAME,MAAO,CAACC,KAAM1B,GAAjC,SAA6CsB,KADtCC,EADC,UASlB,SAAC,KAAD,MAGL,C,+LCnDKI,EAAG,+BACHC,EAAM,mCAEL,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,sGACcC,EAAAA,EAAAA,IAAA,UAAaH,EAAb,wCAAgDC,IAD9D,cACCG,EADD,OAECC,EAAiBD,EAAKA,KAAKE,QAF5B,kBAGED,GAHF,kEAMA,SAAeE,EAAtB,+CAAO,OAAP,oBAAO,WAA8BX,GAA9B,yFACcO,EAAAA,EAAAA,IAAA,UAAaH,EAAb,kBAA0BJ,EAA1B,oBAAwCK,IADtD,cACCG,EADD,OAECI,EAAQJ,EAAKA,KAFd,kBAGEI,GAHF,kEAMA,SAAehC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCL,GAAjC,yFAEcgC,EAAAA,EAAAA,IAAA,UACdH,EADc,+BACY7B,EADZ,oBAC6B8B,IAH3C,cAECG,EAFD,OAKCK,EAAcL,EAAKA,KAAKE,QALzB,kBAMEG,GANF,kEASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA8Bd,GAA9B,yFACcO,EAAAA,EAAAA,IAAA,UAAaH,EAAb,kBAA0BJ,EAA1B,4BAAgDK,IAD9D,cACCG,EADD,OAECO,EAAcP,EAAKA,KAAKQ,KAFzB,kBAGED,GAHF,kEAMA,SAAeE,EAAtB,+CAAO,OAAP,oBAAO,WAAiCjB,GAAjC,yFACcO,EAAAA,EAAAA,IAAA,UAAaH,EAAb,kBAA0BJ,EAA1B,4BAAgDK,IAD9D,cACCG,EADD,OAECU,EAAeV,EAAKA,KAAKE,QAF1B,kBAGEQ,GAHF,kE","sources":["pages/MoviesPage.jsx","servicesAPI/fetchMovies.js"],"sourcesContent":["import { Link, Outlet, useLocation } from 'react-router-dom';\nimport { useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { fetchMovieByQuery } from '../servicesAPI/fetchMovies';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchText, setSearchText] = useState('')\n  const query = searchParams.get('query');\n  const location = useLocation()\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    fetchMovieByQuery(query).then(setMovies);\n  }, [query]);\n\n  const handleInputChange = (event) => {\n    const value = event.target.value;\n    setSearchText(value);\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ query: form.elements.search.value });\n    form.reset();\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" value={searchText} name=\"search\" onChange={handleInputChange}/>\n        <button type=\"submit\" disabled={!searchText}>Search</button>\n      </form>\n      {movies.length !== 0 && (\n        <>\n          {' '}\n          <ul>\n            {movies.map(({ title, id }) => (\n              <li key={id}>\n                <Link to={`${id}`} state={{from: location}}>{title}</Link>\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n\n      <Outlet />\n    </>\n  );\n};\n\n\nexport default MoviesPage\n\n","import axios from 'axios';\n\nconst URL = `https://api.themoviedb.org/3`;\nconst KEY = '27391c24609865799e74cd8cabdef0e3';\n\nexport async function fetchTrendingMovies() {\n  const data = await axios.get(`${URL}/trending/movie/week?api_key=${KEY}`);\n  const trendingMovies = data.data.results;\n  return trendingMovies;\n}\n\nexport async function fetchMovieById(id) {\n  const data = await axios.get(`${URL}/movie/${id}?api_key=${KEY}`);\n  const movie = data.data;\n  return movie;\n}\n\nexport async function fetchMovieByQuery(query) {\n  // /search/movie?api_key=<<api_key>>\n  const data = await axios.get(\n    `${URL}/search/movie?query=${query}&api_key=${KEY}`\n  );\n  const queryMovies = data.data.results;\n  return queryMovies;\n}\n\nexport async function fetchMovieCast(id) {\n  const data = await axios.get(`${URL}/movie/${id}/credits?api_key=${KEY}`);\n  const castOfMovie = data.data.cast;\n  return castOfMovie;\n}\n\nexport async function fetchMovieReviews(id) {\n  const data = await axios.get(`${URL}/movie/${id}/reviews?api_key=${KEY}`);\n  const reviewsMovie = data.data.results;\n  return reviewsMovie;\n}\n"],"names":["useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","searchText","setSearchText","query","get","location","useLocation","useEffect","fetchMovieByQuery","then","onSubmit","e","preventDefault","form","currentTarget","elements","search","value","reset","type","name","onChange","event","target","disabled","length","map","title","id","to","state","from","URL","KEY","fetchTrendingMovies","axios","data","trendingMovies","results","fetchMovieById","movie","queryMovies","fetchMovieCast","castOfMovie","cast","fetchMovieReviews","reviewsMovie"],"sourceRoot":""}